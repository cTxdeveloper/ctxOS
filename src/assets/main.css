@import 'highlight.js/styles/tokyo-night-dark.css';
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
/* THE FIX: Define consistent z-index layers for the entire application */
:root {
  --z-desktop: 1;
  --z-taskbar: 150;
  --z-start-menu: 200;
  --z-windows: 100; /* This is the base z-index for windows */
  --z-onboard-modal: 1000; /* A very high z-index for third-party modals */
}

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  background-color: #1a1b26; 
  @apply text-text-primary font-secondary overflow-hidden;
}

.animated-bg {
  @apply w-full h-full relative overflow-hidden;
  background-color: #1a1b26;
}

.animated-bg::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(to right, rgba(36, 40, 59, 0.8) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(36, 40, 59, 0.8) 1px, transparent 1px);
  background-size: 40px 40px;
  opacity: 0.5;
  animation: pan-grid 30s linear infinite;
}

@keyframes pan-grid {
  0% { background-position: 0 0; }
  100% { background-position: -40px -40px; }
}

.glass-pane {
  background-color: rgba(36, 40, 59, 0.6);
  backdrop-filter: blur(16px) saturate(120%);
  box-shadow: 
    inset 0 0 0 1px rgba(192, 202, 245, 0.1),
    0px 10px 30px rgba(0, 0, 0, 0.3);
  transition: box-shadow 0.3s ease-in-out;
  @apply rounded-lg;
}

.focused {
  box-shadow: 
    inset 0 0 0 1.5px #73daca,
    0px 15px 45px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(115, 218, 202, 0.3);
}

.window-header {
  background: linear-gradient(to bottom, rgba(255,255,255,0.05), rgba(255,255,255,0));
  border-bottom: 1px solid rgba(192, 202, 245, 0.1);
  @apply h-8 flex items-center justify-between px-2 rounded-t-lg cursor-grab active:cursor-grabbing select-none;
}

/* THE FIX: New, simpler style for minimized windows. It just hides them. */
.minimized-window {
  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity 0.2s ease-out;
}

/* THE FIX: New rule to force the Web3-Onboard modal to the top layer. */
w3o-modal {
  z-index: var(--z-onboard-modal) !important;
}